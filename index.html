<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Boss Booker ‚Äî Build your brand, book your clients, and run your business like a boss. Websites, CRM, and conversion systems for service businesses."/>
  <title>Boss Booker ‚Äî Build the Brand. Book the Clients. Be a Boss.</title>
  <link rel="stylesheet" href="/styles.css"/>
  <style>
    /* tiny page-local helpers so we don't touch your global CSS */
    .nav-brand {display:flex;align-items:center;gap:10px;font-weight:800;flex-shrink:0;}
    .nav-brand img {height:56px;width:56px;border-radius:10px;display:block;}
    .nav-container {display:flex;align-items:center;justify-content:space-between;gap:12px;min-height:64px;padding:8px 0;flex-wrap:wrap;}
    .nav-links {display:flex;align-items:center;gap:12px;list-style:none;margin:0;padding:0;flex-wrap:wrap;justify-content:flex-end;}
    .nav-links li {margin:0;}
    .nav-links a, .nav-links button {white-space:nowrap;}
    
    /* Mobile navigation adjustments */
    @media (max-width: 768px) {
      .nav-container {gap:8px;}
      .nav-links {gap:8px;font-size:14px;}
      .nav-links a {padding:6px 10px;font-size:14px;}
      .nav-links button {padding:8px 10px;font-size:14px;}
    }
    
    @media (max-width: 480px) {
      .nav-container {justify-content:center;}
      .nav-links {width:100%;justify-content:center;gap:4px;flex-wrap:wrap;}
      .nav-links a {padding:6px 8px;font-size:13px;}
      .nav-links button {padding:6px 10px;font-size:13px;}
    }
    
    /* modal overlay & dialog */
    #quizModal.modal-overlay{
      position:fixed;inset:0;z-index:1000;display:none;
      background:rgba(0,0,0,0.85);
      overflow:auto;
      -webkit-overflow-scrolling: touch;
      padding:5vh 0;
    }
    .modal-dialog{
      max-width:720px;width:92%;margin:0 auto;
      background: var(--background-alt);
      border:1px solid var(--border-color);
      border-radius:14px;padding:18px;
      box-shadow:0 20px 60px rgba(0,0,0,.6);
      max-height:calc(100vh - 10vh);
      overflow:auto;
    }

    /* Package cards on homepage */
    .package-card {
      background: var(--background-alt);
      border: 2px solid var(--border-color);
      border-radius: 12px;
      padding: 1.5rem;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    .package-card:hover {
      border-color: var(--primary-color);
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(255, 46, 190, 0.15);
    }
    .package-card .package-icon {
      font-size: 2rem;
      margin-bottom: 0.75rem;
    }
    .package-card h3 {
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }
    .package-card .package-tagline {
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-bottom: 0.75rem;
    }
    .package-card p {
      color: var(--text-secondary);
      flex: 1;
      margin-bottom: 1rem;
    }
    .package-card .btn {
      align-self: flex-start;
    }

    /* Quiz recommendation result */
    .quiz-result {
      text-align: center;
      padding: 1rem 0;
    }
    .quiz-result h3 {
      color: var(--primary-color);
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }
    .quiz-result .recommendation-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--primary-color), #ff6b35);
      color: white;
      padding: 0.5rem 1.5rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 1.25rem;
      margin: 1rem 0;
    }
    .quiz-result .why-list {
      text-align: left;
      background: var(--background);
      border-radius: 8px;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
    }
    .quiz-result .why-list li {
      color: var(--text-secondary);
      margin: 0.5rem 0;
      padding-left: 0.5rem;
    }
    .quiz-result .contact-capture {
      background: var(--background);
      border-radius: 8px;
      padding: 1rem;
      margin-top: 1rem;
    }
    .quiz-result .contact-capture label {
      display: block;
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }
    .quiz-result .contact-capture input {
      width: 100%;
      margin-bottom: 0.75rem;
    }

    /* Clarifier note */
    .clarifier-note {
      background: var(--background-alt);
      border-left: 3px solid var(--primary-color);
      padding: 1rem 1.25rem;
      margin: 1.5rem 0;
      border-radius: 0 8px 8px 0;
      font-size: 0.9rem;
      color: var(--text-secondary);
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar" id="navbar">
    <div class="container nav-container">
      <a class="nav-brand" href="index.html" style="text-decoration:none;color:inherit;">
        <img src="/boss-booker_logo_primary.png" alt="Boss Booker logo">
      </a>
      <ul class="nav-links">
        <li><a class="active" href="index.html">Home</a></li>
        <li><a href="plans.html">Plans</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="faq.html">FAQ</a></li>
        <li><a href="referrals.html">Referrals</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Hero -->
  <header class="hero section">
    <div class="container">
      <div class="card">
        <h1>Build the Brand. Book the Clients. Be a Boss.</h1>
        <p>Boss Booker gives service businesses the tools to launch, convert, and grow‚Äîwebsites, CRM systems, follow-up automation, and operator support so you can focus on the work while we handle the pipeline.</p>
        <div class="clarifier-note">
          <strong>What's a "booking"?</strong> Whatever a new client looks like for you‚Äîappointments, quote requests, orders, consultations, or DMs. We help you convert inquiries into real business.
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px">
          <button class="btn btn-primary" id="openQuizHero">Get Started</button>
          <a class="btn btn-secondary" href="plans.html">See Packages</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Packages -->
  <main class="container">
    <section class="section">
      <h2 class="section-title">Choose Your Path</h2>
      <p style="text-align:center;color:var(--text-secondary);margin-bottom:2rem;">Three packages designed for where you are and where you're going.</p>
      <div class="grid-3">
        <div class="package-card">
          <span class="package-icon">üöÄ</span>
          <h3>Starter Pack</h3>
          <span class="package-tagline">Launch</span>
          <p>Get your brand online fast. Website, basic CRM setup, and the essentials to start capturing inquiries.</p>
          <a class="btn btn-secondary" href="plans.html#starter-pack">Start Here ‚Üí</a>
        </div>
        <div class="package-card" style="border-color:var(--primary-color);">
          <span class="package-icon">‚ö°</span>
          <h3>Growth Engine</h3>
          <span class="package-tagline">Convert</span>
          <p>Turn inquiries into clients. Automated follow-ups, client outreach, SEO or ads, and conversion systems that work 24/7.</p>
          <a class="btn btn-primary" href="plans.html#growth-engine">Grow Now ‚Üí</a>
        </div>
        <div class="package-card">
          <span class="package-icon">ü§ù</span>
          <h3>Operator</h3>
          <span class="package-tagline">Monthly Partner</span>
          <p>We run it for you. Ongoing management, optimization, reporting, and a dedicated team keeping your pipeline full.</p>
          <a class="btn btn-secondary" href="plans.html#operator">Let's Talk ‚Üí</a>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">How it works</h2>
      <div class="grid-3">
        <div class="feature-card">
          <div class="pill">1</div>
          <strong>Take the quiz</strong>
          <p style="color:var(--text-secondary)">60 seconds. We'll recommend the right package for your stage and goals.</p>
        </div>
        <div class="feature-card">
          <div class="pill">2</div>
          <strong>We build your system</strong>
          <p style="color:var(--text-secondary)">Website, CRM, automations, and tracking‚Äîtailored to your business.</p>
        </div>
        <div class="feature-card">
          <div class="pill">3</div>
          <strong>You convert inquiries into clients</strong>
          <p style="color:var(--text-secondary)">Leads come in, follow-ups go out, clients get booked. Like a boss.</p>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">Package Overview</h2>
      <div class="grid-3">
        <div class="card">
          <strong>üöÄ Starter Pack</strong>
          <p style="color:var(--text-secondary)">Launch fast with a website + CRM basics. Starting at $499.</p>
          <a class="btn btn-secondary" href="plans.html#starter-pack">See details</a>
        </div>
        <div class="card" style="border-color:var(--primary-color);">
          <strong>‚ö° Growth Engine</strong>
          <p style="color:var(--text-secondary)">Add client outreach, follow-ups, and marketing channels. From $999/mo.</p>
          <a class="btn btn-secondary" href="plans.html#growth-engine">See details</a>
        </div>
        <div class="card">
          <strong>ü§ù Operator</strong>
          <p style="color:var(--text-secondary)">Full-service management and optimization. From $1,899/mo.</p>
          <a class="btn btn-secondary" href="plans.html#operator">See details</a>
        </div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-bottom" style="display:flex;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;">
        <div style="display:flex;align-items:center;gap:10px;">
          <img src="/boss-booker_logo_primary.png" alt="Boss Booker logo" style="height:20px;width:20px;border-radius:4px;">
          <p style="margin:0;">¬© 2025 Boss Booker. All rights reserved.</p>
        </div>
        <span style="color:var(--border-color);">|</span>
        <a href="tel:+16028422772" class="phone-link" style="display:flex;align-items:center;gap:6px;color:var(--primary-color);text-decoration:none;font-weight:500;">
          <svg width="14" height="14" fill="currentColor" viewBox="0 0 16 16"><path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/></svg>
          (602) 842-2772
        </a>
      </div>
    </div>
  </footer>

  <!-- Sticky CTA -->
  <div class="sticky-cta" id="stickyCta" style="position:sticky;bottom:0;width:100%;display:flex;justify-content:center;padding:10px;background:transparent;">
    <button class="btn btn-primary" id="openQuizSticky">Get Started</button>
  </div>

  <!-- ===== Questionnaire Modal (scrollable & brand-safe) ===== -->
  <div id="quizModal" class="modal-overlay" aria-hidden="true">
    <div role="dialog" aria-modal="true" aria-labelledby="quizTitle" class="modal-dialog">
      <div style="display:flex; justify-content:space-between; align-items:center; gap:10px;">
        <h2 id="quizTitle" class="section-title" style="margin:0;">Get Started ‚Äî Quick Questionnaire</h2>
        <button class="btn btn-secondary" id="closeQuiz" aria-label="Close">Close</button>
      </div>

      <!-- Quiz Questions Form -->
      <form id="quizForm" style="margin-top:12px;">
        <!-- Step 1: Business Stage -->
        <fieldset class="card" style="margin:0 0 12px;">
          <legend class="pill">About Your Business</legend>
          <div style="margin-bottom:1rem;">
            <label for="bizName">Business name</label>
            <input id="bizName" name="bizName" placeholder="Your business name" required />
          </div>
          <div style="margin-bottom:1rem;">
            <label>Where are you in your business journey?</label>
            <div class="radio-group" style="margin-top:0.5rem;">
              <label class="radio-option"><input type="radio" name="stage" value="new" required /> Brand new ‚Äî just getting started</label>
              <label class="radio-option"><input type="radio" name="stage" value="inconsistent" /> Existing but inconsistent ‚Äî need more clients</label>
              <label class="radio-option"><input type="radio" name="stage" value="established" /> Established & busy ‚Äî need to systemize</label>
            </div>
          </div>
        </fieldset>

        <!-- Step 2: What they want more of -->
        <fieldset class="card" style="margin:0 0 12px;">
          <legend class="pill">Your Goals</legend>
          <div style="margin-bottom:1rem;">
            <label>What are you trying to get more of? (select all that apply)</label>
            <div class="checkbox-group" style="margin-top:0.5rem;">
              <label class="checkbox-option"><input type="checkbox" name="goals" value="calls" /> Phone calls / inquiries</label>
              <label class="checkbox-option"><input type="checkbox" name="goals" value="quotes" /> Quote requests</label>
              <label class="checkbox-option"><input type="checkbox" name="goals" value="appointments" /> Appointments / consultations</label>
              <label class="checkbox-option"><input type="checkbox" name="goals" value="orders" /> Orders / purchases</label>
              <label class="checkbox-option"><input type="checkbox" name="goals" value="dms" /> DMs / messages</label>
            </div>
          </div>
        </fieldset>

        <!-- Step 3: Current setup -->
        <fieldset class="card" style="margin:0 0 12px;">
          <legend class="pill">Current Setup</legend>
          <div class="grid-2">
            <div>
              <label>Do you have a website?</label>
              <select name="hasWebsite" required style="margin-top:0.5rem;">
                <option value="">Select‚Ä¶</option>
                <option value="no">No website yet</option>
                <option value="kinda">Have one, but it's outdated</option>
                <option value="yes">Yes, and it's decent</option>
              </select>
            </div>
            <div>
              <label>Google/online presence?</label>
              <select name="hasPresence" required style="margin-top:0.5rem;">
                <option value="">Select‚Ä¶</option>
                <option value="no">Not really</option>
                <option value="kinda">Some, but not optimized</option>
                <option value="yes">Good ‚Äî GMB, reviews, etc.</option>
              </select>
            </div>
          </div>
          <div style="margin-top:1rem;">
            <label>How fast do you respond to inquiries today?</label>
            <select name="responseTime" required style="margin-top:0.5rem;">
              <option value="">Select‚Ä¶</option>
              <option value="immediate">Immediately (within minutes)</option>
              <option value="hours">Within a few hours</option>
              <option value="nextday">Next business day</option>
              <option value="inconsistent">Not consistent</option>
            </select>
          </div>
        </fieldset>

        <!-- Step 4: Budget & involvement -->
        <fieldset class="card" style="margin:0 0 12px;">
          <legend class="pill">Budget & Involvement</legend>
          <div class="grid-2">
            <div>
              <label>Monthly budget comfort</label>
              <select name="budget" required style="margin-top:0.5rem;">
                <option value="">Select‚Ä¶</option>
                <option value="under500">Under $500/mo</option>
                <option value="500to1500">$500 ‚Äì $1,500/mo</option>
                <option value="1500to3000">$1,500 ‚Äì $3,000/mo</option>
                <option value="3000plus">$3,000+/mo</option>
              </select>
            </div>
            <div>
              <label>How hands-on do you want to be?</label>
              <select name="involvement" required style="margin-top:0.5rem;">
                <option value="">Select‚Ä¶</option>
                <option value="diy">I'll do it with guidance</option>
                <option value="buildit">Build it, I'll run it</option>
                <option value="runit">You run it for me</option>
              </select>
            </div>
          </div>
        </fieldset>

        <!-- Submit -->
        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
          <button class="btn btn-primary" type="submit">See my recommended package</button>
          <button class="btn btn-secondary" type="button" id="cancelQuiz">Cancel</button>
        </div>
      </form>

      <!-- Quiz Result (hidden by default) -->
      <div id="quizResult" style="display:none;">
        <div class="quiz-result">
          <h3>Your Recommended Package</h3>
          <div class="recommendation-badge" id="recommendedPackage">Growth Engine</div>
          <p style="color:var(--text-secondary);">Based on your answers, here's why this is right for you:</p>
          <ul class="why-list" id="recommendationReasons">
            <li>Loading...</li>
          </ul>
          
          <!-- Optional contact capture -->
          <div class="contact-capture">
            <label>Want us to reach out? (optional)</label>
            <input type="text" id="leadName" placeholder="Your name" />
            <input type="email" id="leadEmail" placeholder="Email" />
            <input type="tel" id="leadPhone" placeholder="Phone" />
          </div>

          <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:1.5rem; justify-content:center;">
            <a class="btn btn-primary" id="viewPackageBtn" href="plans.html#growth-engine">View My Recommended Package</a>
            <button class="btn btn-secondary" id="retakeQuiz">Retake Quiz</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="/datastore.js"></script>
  <script src="/analytics.js"></script>
  <script src="script.js"></script>
  <script>
    // ===== Quiz Recommendation Engine =====
    (function() {
      const modal = document.getElementById('quizModal');
      const quizForm = document.getElementById('quizForm');
      const quizResult = document.getElementById('quizResult');
      const openers = [document.getElementById('openQuizHero'), document.getElementById('openQuizSticky')].filter(Boolean);
      const closeBtn = document.getElementById('closeQuiz');
      const cancelBtn = document.getElementById('cancelQuiz');
      const retakeBtn = document.getElementById('retakeQuiz');

      const lockBody = () => { document.documentElement.style.overflow='hidden'; document.body.style.overflow='hidden'; };
      const unlockBody = () => { document.documentElement.style.overflow=''; document.body.style.overflow=''; };

      const showModal = () => {
        if (!modal) return;
        modal.style.display = 'block';
        modal.setAttribute('aria-hidden','false');
        lockBody();
        // Track quiz start
        if (typeof Analytics !== 'undefined') {
          Analytics.trackQuiz('start', { trigger: 'modal_open' });
        }
      };

      const hideModal = () => {
        if (!modal) return;
        modal.style.display = 'none';
        modal.setAttribute('aria-hidden','true');
        unlockBody();
      };

      const resetQuiz = () => {
        quizForm.reset();
        quizForm.style.display = 'block';
        quizResult.style.display = 'none';
      };

      openers.forEach(btn => btn.addEventListener('click', showModal));
      closeBtn?.addEventListener('click', hideModal);
      cancelBtn?.addEventListener('click', hideModal);
      retakeBtn?.addEventListener('click', resetQuiz);
      modal?.addEventListener('click', (e) => { if (e.target === modal) hideModal(); });

      // Quiz recommendation logic
      quizForm?.addEventListener('submit', (e) => {
        e.preventDefault();
        const data = new FormData(quizForm);
        
        const payload = {
          bizName: data.get('bizName') || '',
          stage: data.get('stage') || '',
          goals: data.getAll('goals'),
          hasWebsite: data.get('hasWebsite') || '',
          hasPresence: data.get('hasPresence') || '',
          responseTime: data.get('responseTime') || '',
          budget: data.get('budget') || '',
          involvement: data.get('involvement') || ''
        };

        // Calculate recommendation
        const result = calculateRecommendation(payload);
        
        // Display result
        displayRecommendation(result, payload);
        
        // Track completion
        if (typeof Analytics !== 'undefined') {
          Analytics.trackQuiz('complete', { 
            recommendation: result.package,
            stage: payload.stage,
            budget: payload.budget
          });
        }
      });

      function calculateRecommendation(payload) {
        let starterScore = 0;
        let growthScore = 0;
        let operatorScore = 0;
        const reasons = [];

        // Stage scoring
        if (payload.stage === 'new') {
          starterScore += 3;
          reasons.push("You're just getting started ‚Äî Starter Pack gets you launched fast.");
        } else if (payload.stage === 'inconsistent') {
          growthScore += 3;
          reasons.push("You need more consistent clients ‚Äî Growth Engine drives conversions.");
        } else if (payload.stage === 'established') {
          operatorScore += 2;
          growthScore += 1;
          reasons.push("You're established but need to systemize ‚Äî let us handle the operations.");
        }

        // Website/presence scoring
        if (payload.hasWebsite === 'no' || payload.hasPresence === 'no') {
          starterScore += 2;
          reasons.push("You need foundational assets like a website and online presence.");
        } else if (payload.hasWebsite === 'kinda' || payload.hasPresence === 'kinda') {
          growthScore += 1;
        }

        // Response time scoring
        if (payload.responseTime === 'inconsistent' || payload.responseTime === 'nextday') {
          growthScore += 2;
          operatorScore += 1;
          reasons.push("Slow response time costs you clients ‚Äî automation ensures instant follow-up.");
        }

        // Budget scoring
        if (payload.budget === 'under500') {
          starterScore += 2;
        } else if (payload.budget === '500to1500') {
          growthScore += 2;
        } else if (payload.budget === '1500to3000') {
          growthScore += 1;
          operatorScore += 2;
        } else if (payload.budget === '3000plus') {
          operatorScore += 3;
          reasons.push("Your budget allows for full-service management.");
        }

        // Involvement scoring
        if (payload.involvement === 'diy') {
          starterScore += 2;
        } else if (payload.involvement === 'buildit') {
          growthScore += 2;
          reasons.push("We'll build the system, you run your business.");
        } else if (payload.involvement === 'runit') {
          operatorScore += 3;
          reasons.push("You want hands-off operation ‚Äî Operator is your monthly partner.");
        }

        // Goals analysis
        if (payload.goals.length >= 3) {
          growthScore += 1;
          operatorScore += 1;
          reasons.push("Multiple conversion goals = you need a comprehensive system.");
        }

        // Determine winner
        let recommendation = 'growth-engine';
        let packageName = 'Growth Engine';
        const maxScore = Math.max(starterScore, growthScore, operatorScore);
        
        if (starterScore === maxScore) {
          recommendation = 'starter-pack';
          packageName = 'Starter Pack';
        } else if (operatorScore === maxScore) {
          recommendation = 'operator';
          packageName = 'Operator';
        }

        // Ensure we have at least 2-3 reasons
        if (reasons.length < 2) {
          if (recommendation === 'starter-pack') {
            reasons.push("Launch quickly with the essentials you need.");
          } else if (recommendation === 'growth-engine') {
            reasons.push("Convert more inquiries into paying clients.");
          } else {
            reasons.push("Get a dedicated team managing your growth.");
          }
        }

        return {
          package: recommendation,
          packageName: packageName,
          reasons: reasons.slice(0, 4), // Max 4 reasons
          scores: { starter: starterScore, growth: growthScore, operator: operatorScore }
        };
      }

      function displayRecommendation(result, payload) {
        // Hide form, show result
        quizForm.style.display = 'none';
        quizResult.style.display = 'block';

        // Update UI
        document.getElementById('recommendedPackage').textContent = result.packageName;
        document.getElementById('recommendationReasons').innerHTML = 
          result.reasons.map(r => `<li>${r}</li>`).join('');
        
        const viewBtn = document.getElementById('viewPackageBtn');
        viewBtn.href = `plans.html?rec=${result.package}#${result.package}`;
        viewBtn.textContent = `View ${result.packageName} ‚Üí`;

        // Track recommendation
        if (typeof Analytics !== 'undefined') {
          Analytics.trackQuiz('recommendation', { 
            package: result.package,
            scores: result.scores
          });
        }
      }

      // Handle "View Package" click with optional lead capture
      document.getElementById('viewPackageBtn')?.addEventListener('click', function(e) {
        const name = document.getElementById('leadName')?.value?.trim();
        const email = document.getElementById('leadEmail')?.value?.trim();
        const phone = document.getElementById('leadPhone')?.value?.trim();
        
        // If any contact info provided, save as lead
        if (name || email || phone) {
          const recommendation = document.getElementById('recommendedPackage')?.textContent || 'Unknown';
          
          if (typeof DataStore !== 'undefined') {
            DataStore.saveLead({
              name: name || '',
              email: email || '',
              phone: phone || '',
              subject: 'Quiz Recommendation',
              message: `Recommended package: ${recommendation}`,
              source: 'quiz',
              createdAt: Date.now()
            });
          }

          if (typeof Analytics !== 'undefined') {
            Analytics.trackCTA('quiz_lead_capture', { 
              recommendation: recommendation,
              hasEmail: !!email,
              hasPhone: !!phone
            });
          }
        }
        
        hideModal();
      });

    })();
  </script>
</body>
</html>
